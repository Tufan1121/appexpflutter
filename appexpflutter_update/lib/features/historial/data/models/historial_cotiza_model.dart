import 'package:appexpflutter_update/config/mappers/entity_convertable.dart';
import 'package:appexpflutter_update/features/historial/domain/entities/historial_cotiza_entity.dart';

class HistorialCotizaModel extends HistorialCotizaEntity
    with EntityConvertible<HistorialCotizaModel, HistorialCotizaEntity> {
  const HistorialCotizaModel({
    required super.idCotiza,
    required super.idCliente,
    required super.fecha,
    required super.idMetodoPago,
    super.idMetodoPago2,
    super.idMetodoPago3,
    required super.observaciones,
    super.idUsuario,
    required super.pedidos,
    required super.idExpo,
    required super.estatus,
    required super.anticipo,
    super.anticipo2,
    super.anticipo3,
    required super.totalPagar,
    super.entregado,
    required super.saldo,
    super.dig1,
    super.dig2,
    super.dig3,
    required super.ticket,
    super.usuario,
    super.nomCliente,
    required super.nombre,
    required super.apellido,
  });

  factory HistorialCotizaModel.fromJson(Map<String, dynamic> json) =>
      HistorialCotizaModel(
        idCotiza: json['id_cotiza'],
        idCliente: json['id_cliente'],
        fecha: DateTime.parse(json['fecha']),
        idMetodoPago: json['id_metodopago'],
        idMetodoPago2: json['id_metodopago2'],
        idMetodoPago3: json['id_metodopago3'],
        observaciones: json['observaciones'],
        idUsuario: json['id_usuario'],
        pedidos: json['pedidos'],
        idExpo: json['id_expo'],
        estatus: json['estatus'],
        anticipo: json['anticipo'],
        anticipo2: json['anticipo2'],
        anticipo3: json['anticipo3'],
        totalPagar: json['total_pagar'],
        entregado: json['entregado'],
        saldo: (json['saldo'] as num).toDouble(),
        dig1: json['dig1']?.toString(),
        dig2: json['dig2']?.toString(),
        dig3: json['dig3']?.toString(),
        ticket: json['ticket'],
        usuario: json['usuario'],
        nomCliente: json['nomcliente'],
        nombre: json['nombre'],
        apellido: json['apellido'],
      );

  Map<String, dynamic> toJson() => {
        'id_cotiza': idCotiza,
        'id_cliente': idCliente,
        'fecha': fecha.toIso8601String(),
        'id_metodopago': idMetodoPago,
        'id_metodopago2': idMetodoPago2,
        'id_metodopago3': idMetodoPago3,
        'observaciones': observaciones,
        'id_usuario': idUsuario,
        'pedidos': pedidos,
        'id_expo': idExpo,
        'estatus': estatus,
        'anticipo': anticipo,
        'anticipo2': anticipo2,
        'anticipo3': anticipo3,
        'total_pagar': totalPagar,
        'entregado': entregado,
        'saldo': saldo,
        'dig1': dig1,
        'dig2': dig2,
        'dig3': dig3,
        'ticket': ticket,
        'usuario': usuario,
        'nomcliente': nomCliente,
        'nombre': nombre,
        'apellido': apellido,
      };

  @override
  HistorialCotizaEntity toEntity() => HistorialCotizaEntity(
        idCotiza: idCotiza,
        idCliente: idCliente,
        fecha: fecha,
        idMetodoPago: idMetodoPago,
        idMetodoPago2: idMetodoPago2,
        idMetodoPago3: idMetodoPago3,
        observaciones: observaciones,
        idUsuario: idUsuario,
        pedidos: pedidos,
        idExpo: idExpo,
        estatus: estatus,
        anticipo: anticipo,
        anticipo2: anticipo2,
        anticipo3: anticipo3,
        totalPagar: totalPagar,
        entregado: entregado,
        saldo: saldo,
        dig1: dig1,
        dig2: dig2,
        dig3: dig3,
        ticket: ticket,
        usuario: usuario,
        nomCliente: nomCliente,
        nombre: nombre,
        apellido: apellido,
      );
}
